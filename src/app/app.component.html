<div *ngIf="authService.user | async as user; else showLogin">
  <mat-sidenav-container>
    <mat-sidenav #sidenav mode="over">
      <mat-nav-list class="sidenav-list">
          <a mat-list-item [routerLink]="['/']" id="sidenav-list"><mat-icon>home</mat-icon><p id="sidenav-text">Home</p></a>
          <mat-divider></mat-divider>
        <a mat-list-item [routerLink]="['profile/test']" id="sidenav-list"><mat-icon>account_circle</mat-icon><p id="sidenav-text">Profile</p></a>
        <mat-divider></mat-divider>
        <a mat-list-item [routerLink]="['board/#']" id="sidenav-list"><mat-icon>assignment</mat-icon><p id="sidenav-text">Board</p></a>
        <mat-divider></mat-divider>
        <a mat-list-item [routerLink]="['chat/#']" id="sidenav-list"><mat-icon>chat_bubble</mat-icon><p id="sidenav-text">Chat</p></a>
        <mat-divider></mat-divider>
      </mat-nav-list>
      <h2 id="yourFriends">Your Friends</h2>
      <mat-list class="friendsList" role="list">
        <mat-list id="onlineList">
            <mat-list-item role="listitem"><img src="https://i.pinimg.com/236x/a4/a6/43/a4a6430b557982c69b50bcf174c6077f.jpg" alt="profilePic">Victor_733</mat-list-item>
        </mat-list>
        <hr>
        <mat-list id="offlineList">
            <mat-list-item role="listitem"><img src="https://miro.medium.com/max/3150/1*VLD9nu6jQCdYRpj4EnXffw.png" alt="profilePic">Reynir Aron</mat-list-item>
        </mat-list>
      </mat-list>
    </mat-sidenav>
  
    <mat-sidenav-content>
      <mat-toolbar id="main-toolbar">
        <button id="main-menu-trigger" mat-icon-button (click)="sidenav.toggle()">
          <mat-icon>menu</mat-icon>
        </button>

        <div class="logo-container">
          <a [routerLink]="['/']"> 
            <img class="logo" src="assets/images/amigo-logo.svg">
          </a>
        </div>

        <button id="settings-trigger" mat-icon-button [matMenuTriggerFor]="menu" aria-label="Main menu">
          <mat-icon>more_vert</mat-icon>
        </button>
      
        <mat-menu #menu="matMenu">
          <button mat-menu-item [routerLink]="['/settings']">
            <mat-icon>settings</mat-icon>
            <span>Settings</span>
          </button>

          <button mat-menu-item>
              <mat-icon>close</mat-icon>
              <span (click)="logout()">Log out</span>
            </button>
        </mat-menu>

      </mat-toolbar>
      <mat-progress-bar *ngIf="loading" color="primary" mode="indeterminate"></mat-progress-bar>
      
      <router-outlet></router-outlet>

      <footer class="main-footer">
        
        <section>
          <a href="#">Contact us</a>
          <a href="#">Terms of Service</a>
        </section>
      </footer>

    </mat-sidenav-content>
  </mat-sidenav-container>
</div>

<ng-template #showLogin>
  <main id="main-login" class="login-background">
    <section id="login">
      <img class="login-logo" src="assets/images/amigo-logo.svg">
      <button mat-raised-button color="primary" (click)="login()" class="login-button">Log in with Google</button>
    </section>
  </main>
</ng-template>
