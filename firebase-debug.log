[debug] [2019-11-27T14:56:41.970Z] ----------------------------------------------------------------------
[debug] [2019-11-27T14:56:41.971Z] Command:       /usr/local/Cellar/node/13.2.0/bin/node /usr/local/bin/firebase -P amigo-dev-29dd2 deploy
[debug] [2019-11-27T14:56:41.972Z] CLI Version:   7.8.1
[debug] [2019-11-27T14:56:41.972Z] Platform:      darwin
[debug] [2019-11-27T14:56:41.972Z] Node Version:  v13.2.0
[debug] [2019-11-27T14:56:41.973Z] Time:          Wed Nov 27 2019 14:56:41 GMT+0000 (Greenwich Mean Time)
[debug] [2019-11-27T14:56:41.973Z] ----------------------------------------------------------------------
[debug] [2019-11-27T14:56:41.973Z] 
[debug] [2019-11-27T14:56:41.980Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2019-11-27T14:56:41.981Z] > authorizing via signed-in user
[debug] [2019-11-27T14:56:41.981Z] [iam] checking project amigo-dev-29dd2 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get","firebasehosting.sites.update"]
[debug] [2019-11-27T14:56:41.982Z] >>> HTTP REQUEST POST https://cloudresourcemanager.googleapis.com/v1/projects/amigo-dev-29dd2:testIamPermissions  

[debug] [2019-11-27T14:56:42.877Z] <<< HTTP RESPONSE 200
[debug] [2019-11-27T14:56:42.880Z] >>> HTTP REQUEST GET https://firebase.googleapis.com/v1beta1/projects/amigo-dev-29dd2  
 
[debug] [2019-11-27T14:56:43.171Z] <<< HTTP RESPONSE 200
[info] 
[info] === Deploying to 'amigo-dev-29dd2'...
[info] 
[info] i  deploying functions, hosting
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] Running command: npm --prefix "$RESOURCE_DIR" run build
[info] ✔  functions: Finished running predeploy script.
[debug] [2019-11-27T14:56:50.352Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "tslint --project tsconfig.json",
    "build": "tsc",
    "serve": "npm run build && firebase serve --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "8"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^8.6.0",
    "firebase-functions": "^3.3.0"
  },
  "devDependencies": {
    "tslint": "^5.12.0",
    "typescript": "^3.2.2",
    "firebase-functions-test": "^0.1.6"
  },
  "private": true
}
[info] i  functions: ensuring necessary APIs are enabled...
[debug] [2019-11-27T14:56:50.353Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/amigo-dev-29dd2/services/cloudfunctions.googleapis.com  
 
[debug] [2019-11-27T14:56:50.353Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/amigo-dev-29dd2/services/runtimeconfig.googleapis.com  
 
[debug] [2019-11-27T14:56:55.571Z] <<< HTTP RESPONSE 200
[debug] [2019-11-27T14:56:55.634Z] <<< HTTP RESPONSE 200
[info] ✔  functions: all necessary APIs are enabled
[debug] [2019-11-27T14:56:55.635Z] >>> HTTP REQUEST GET https://firebase.googleapis.com/v1beta1/projects/amigo-dev-29dd2/adminSdkConfig  
 
[debug] [2019-11-27T14:56:55.915Z] <<< HTTP RESPONSE 200
[debug] [2019-11-27T14:56:55.917Z] >>> HTTP REQUEST POST https://firebasehosting.googleapis.com/v1beta1/sites/amigo-dev-29dd2/versions  

[debug] [2019-11-27T14:57:01.816Z] <<< HTTP RESPONSE 200
[info] i  functions: preparing functions directory for uploading...
[debug] [2019-11-27T14:57:01.820Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/amigo-dev-29dd2/configs  
 
[debug] [2019-11-27T14:57:06.160Z] <<< HTTP RESPONSE 200
[info] i  functions: packaged functions (33.25 KB) for uploading
[debug] [2019-11-27T14:57:06.372Z] >>> HTTP REQUEST POST https://cloudfunctions.googleapis.com/v1/projects/amigo-dev-29dd2/locations/us-central1/functions:generateUploadUrl  
 
[debug] [2019-11-27T14:57:11.012Z] <<< HTTP RESPONSE 200
[debug] [2019-11-27T14:57:11.013Z] >>> HTTP REQUEST PUT https://storage.googleapis.com/gcf-upload-us-central1-4bd595f0-4e65-4d30-9085-a28425b89e86/67e70a2b-1f15-4ccc-bc5a-eb71a3b35938.zip?GoogleAccessId=service-1094400771024@gcf-admin-robot.iam.gserviceaccount.com&Expires=1574868431&Signature=d6GxSoXBuum8vWQcU6ho7uX4lJMIgpHrUSHA5%2FMMe%2B%2BEy03SJaCeCksrcGnvfomwFZOQsV%2FBpUF3tcAAq67SMmjH5qoVmt17oCcKXVEX66PtMsjYGdeFA5T2ETfnRcpAaCbCSdJFhXOuGw3XOI2oeIoOaUA8Ti90jcS4EoLzaHHk%2BavVKbT2eAdn1UFj1Vv%2F0TGhSkSXmxynYTZqGY%2BSB2iyhf1XyYVD0C58lRXEYz2aJtbkSr5sNdllgHtCI3w0tkiftoRDYL3Hc8%2FBfROdCUYhoeRM8LE49bMp3vKnRa76c9KAnFBJjnkvcTvtjiGuMMIU%2BT%2FweQb%2FuC6ab5V5GA%3D%3D  
 <request body omitted>
[debug] [2019-11-27T14:57:11.544Z] <<< HTTP RESPONSE 200
[info] ✔  functions: functions folder uploaded successfully
[info] i  hosting[amigo-dev-29dd2]: beginning deploy...
[info] i  hosting[amigo-dev-29dd2]: found 11 files in dist/amigo
[debug] [2019-11-27T14:57:11.563Z] [hosting] hash cache [ZGlzdC9hbWlnbw] stored for 11 files
[debug] [2019-11-27T14:57:11.564Z] [hosting][hash queue][FINAL]
[debug] [2019-11-27T14:57:11.564Z] >>> HTTP REQUEST POST https://firebasehosting.googleapis.com/v1beta1/sites/amigo-dev-29dd2/versions/040906f7cddc5ab4:populateFiles  
 <request body omitted>
[debug] [2019-11-27T14:57:13.286Z] <<< HTTP RESPONSE 200
[debug] [2019-11-27T14:57:13.287Z] [hosting][populate queue][FINAL]
[debug] [2019-11-27T14:57:13.287Z] [hosting] uploads queued: 0
[debug] [2019-11-27T14:57:13.287Z] [hosting][upload queue][FINAL]
[info] ✔  hosting[amigo-dev-29dd2]: file upload complete
[debug] [2019-11-27T14:57:13.287Z] [hosting] deploy completed after 1742ms
[debug] [2019-11-27T14:57:13.289Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/projects/amigo-dev-29dd2/locations/-/functions  
 
[debug] [2019-11-27T14:57:13.900Z] <<< HTTP RESPONSE 200
[info] i  functions: creating Node.js 8 function updateDocument(us-central1)...
[debug] [2019-11-27T14:57:13.901Z] Trigger is:  {"eventTrigger":{"resource":"projects/amigo-dev-29dd2/databases/(default)/documents/users/{uid}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"}}
[info] i  functions: updating Node.js 8 function createDocument(us-central1)...
[debug] [2019-11-27T14:57:13.902Z] Trigger is:  {"eventTrigger":{"resource":"projects/amigo-dev-29dd2","eventType":"providers/firebase.auth/eventTypes/user.create","service":"firebaseauth.googleapis.com"}}
[info] i  functions: updating Node.js 8 function deleteDocument(us-central1)...
[debug] [2019-11-27T14:57:13.903Z] Trigger is:  {"eventTrigger":{"resource":"projects/amigo-dev-29dd2","eventType":"providers/firebase.auth/eventTypes/user.delete","service":"firebaseauth.googleapis.com"}}
[debug] [2019-11-27T14:57:13.903Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/amigo-dev-29dd2/services/cloudscheduler.googleapis.com  
 
[debug] [2019-11-27T14:57:14.925Z] <<< HTTP RESPONSE 200
[debug] [2019-11-27T14:57:14.926Z] >>> HTTP REQUEST POST https://cloudfunctions.googleapis.com/v1/projects/amigo-dev-29dd2/locations/us-central1/functions  

[debug] [2019-11-27T14:57:14.927Z] >>> HTTP REQUEST PATCH https://cloudfunctions.googleapis.com/v1/projects/amigo-dev-29dd2/locations/us-central1/functions/createDocument {"updateMask":"sourceUploadUrl,name,labels,runtime,eventTrigger.resource,eventTrigger.eventType,eventTrigger.service"} 

[debug] [2019-11-27T14:57:14.928Z] >>> HTTP REQUEST PATCH https://cloudfunctions.googleapis.com/v1/projects/amigo-dev-29dd2/locations/us-central1/functions/deleteDocument {"updateMask":"sourceUploadUrl,name,labels,runtime,eventTrigger.resource,eventTrigger.eventType,eventTrigger.service"} 

[debug] [2019-11-27T14:57:15.533Z] <<< HTTP RESPONSE 200
[debug] [2019-11-27T14:57:15.535Z] <<< HTTP RESPONSE 200
[debug] [2019-11-27T14:57:15.578Z] <<< HTTP RESPONSE 200
[debug] [2019-11-27T14:57:15.580Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW1pZ28tZGV2LTI5ZGQyL3VzLWNlbnRyYWwxL3VwZGF0ZURvY3VtZW50L3llTG5uQjdSRXBr  
 
[debug] [2019-11-27T14:57:15.581Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW1pZ28tZGV2LTI5ZGQyL3VzLWNlbnRyYWwxL2NyZWF0ZURvY3VtZW50L01GZi1QYVN1SmxB  
 
[debug] [2019-11-27T14:57:15.581Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW1pZ28tZGV2LTI5ZGQyL3VzLWNlbnRyYWwxL2RlbGV0ZURvY3VtZW50L3o5cTY0UEp4bEJN  
 
[debug] [2019-11-27T14:57:15.898Z] <<< HTTP RESPONSE 200
[debug] [2019-11-27T14:57:15.914Z] <<< HTTP RESPONSE 200
[debug] [2019-11-27T14:57:15.960Z] <<< HTTP RESPONSE 200
[debug] [2019-11-27T14:57:17.904Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW1pZ28tZGV2LTI5ZGQyL3VzLWNlbnRyYWwxL2RlbGV0ZURvY3VtZW50L3o5cTY0UEp4bEJN  
 
[debug] [2019-11-27T14:57:17.916Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW1pZ28tZGV2LTI5ZGQyL3VzLWNlbnRyYWwxL2NyZWF0ZURvY3VtZW50L01GZi1QYVN1SmxB  
 
[debug] [2019-11-27T14:57:17.961Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW1pZ28tZGV2LTI5ZGQyL3VzLWNlbnRyYWwxL3VwZGF0ZURvY3VtZW50L3llTG5uQjdSRXBr  
 
[debug] [2019-11-27T14:57:18.223Z] <<< HTTP RESPONSE 200
[debug] [2019-11-27T14:57:18.238Z] <<< HTTP RESPONSE 200
[debug] [2019-11-27T14:57:18.334Z] <<< HTTP RESPONSE 200
[debug] [2019-11-27T14:57:20.227Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW1pZ28tZGV2LTI5ZGQyL3VzLWNlbnRyYWwxL2RlbGV0ZURvY3VtZW50L3o5cTY0UEp4bEJN  
 
[debug] [2019-11-27T14:57:20.241Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW1pZ28tZGV2LTI5ZGQyL3VzLWNlbnRyYWwxL2NyZWF0ZURvY3VtZW50L01GZi1QYVN1SmxB  
 
[debug] [2019-11-27T14:57:20.335Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW1pZ28tZGV2LTI5ZGQyL3VzLWNlbnRyYWwxL3VwZGF0ZURvY3VtZW50L3llTG5uQjdSRXBr  
 
[debug] [2019-11-27T14:57:20.580Z] <<< HTTP RESPONSE 200
[debug] [2019-11-27T14:57:20.608Z] <<< HTTP RESPONSE 200
[debug] [2019-11-27T14:57:20.642Z] <<< HTTP RESPONSE 200
[debug] [2019-11-27T14:57:22.580Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW1pZ28tZGV2LTI5ZGQyL3VzLWNlbnRyYWwxL2RlbGV0ZURvY3VtZW50L3o5cTY0UEp4bEJN  
 
[debug] [2019-11-27T14:57:22.609Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW1pZ28tZGV2LTI5ZGQyL3VzLWNlbnRyYWwxL2NyZWF0ZURvY3VtZW50L01GZi1QYVN1SmxB  
 
[debug] [2019-11-27T14:57:22.642Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW1pZ28tZGV2LTI5ZGQyL3VzLWNlbnRyYWwxL3VwZGF0ZURvY3VtZW50L3llTG5uQjdSRXBr  
 
[debug] [2019-11-27T14:57:22.938Z] <<< HTTP RESPONSE 200
[debug] [2019-11-27T14:57:22.989Z] <<< HTTP RESPONSE 200
[debug] [2019-11-27T14:57:23.005Z] <<< HTTP RESPONSE 200
[debug] [2019-11-27T14:57:24.943Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW1pZ28tZGV2LTI5ZGQyL3VzLWNlbnRyYWwxL2RlbGV0ZURvY3VtZW50L3o5cTY0UEp4bEJN  
 
[debug] [2019-11-27T14:57:24.991Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW1pZ28tZGV2LTI5ZGQyL3VzLWNlbnRyYWwxL2NyZWF0ZURvY3VtZW50L01GZi1QYVN1SmxB  
 
[debug] [2019-11-27T14:57:25.006Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/YW1pZ28tZGV2LTI5ZGQyL3VzLWNlbnRyYWwxL3VwZGF0ZURvY3VtZW50L3llTG5uQjdSRXBr  
 
[debug] [2019-11-27T14:57:25.295Z] <<< HTTP RESPONSE 200
[debug] [2019-11-27T14:57:25.303Z] <<< HTTP RESPONSE 200
[debug] [2019-11-27T14:57:25.359Z] <<< HTTP RESPONSE 200
